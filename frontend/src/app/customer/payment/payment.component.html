<div class="min-h-screen bg-[#e6f3ff] p-6">

  <!-- Payment Form -->
  <div *ngIf="newPayment.userPolicyId" class="max-w-4xl mx-auto p-8 bg-white shadow-xl rounded-2xl border border-gray-200 mb-8">
    <h2 class="text-2xl font-bold mb-6 text-[#1a365d] text-center">Make a Payment</h2>

    <form (ngSubmit)="makePayment()" class="space-y-5">
      <!-- User Policy ID -->
      <div>
        <label class="block text-sm font-medium text-gray-600 mb-1">User Policy ID</label>
        <input type="text" [(ngModel)]="newPayment.userPolicyId" name="userPolicyId"
          class="mt-1 w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#3182ce] transition" required />
      </div>

      <!-- Amount -->
      <div>
        <label class="block text-sm font-medium text-gray-600 mb-1">Amount</label>
        <input type="number" [(ngModel)]="newPayment.amount" name="amount"
          class="mt-1 w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#3182ce] transition" required />
      </div>

      <!-- Payment Method -->
      <div>
        <label class="block text-sm font-medium text-gray-600 mb-1">Payment Method</label>
        <select [(ngModel)]="newPayment.method" name="method"
          class="mt-1 w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#3182ce] transition" required>
          <option value="">-- Select Method --</option>
          <option value="card">Card</option>
          <option value="upi">UPI</option>
          <option value="netbanking">Net Banking</option>
          <option value="cash">Cash</option>
        </select>
      </div>

      <!-- Reference -->
      <div>
        <label class="block text-sm font-medium text-gray-600 mb-1">Reference</label>
        <input type="text" [(ngModel)]="newPayment.reference" name="reference"
          class="mt-1 w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#3182ce] transition" required />
      </div>

      <!-- Submit Button -->
      <div class="text-center">
        <button type="submit"
          class="bg-[#3182ce] text-white font-semibold py-3 px-6 rounded-xl hover:bg-[#2c5282] transition-colors duration-200 shadow-md text-lg">
          Pay Now
        </button>
      </div>
    </form>
  </div>

  <!-- Previous Payments -->
  <div class="max-w-4xl mx-auto bg-white shadow-xl rounded-2xl p-6 border border-gray-200">
    <h2 class="text-2xl font-semibold text-gray-700 mb-4 text-center">My Payments</h2>

    <div class="overflow-x-auto">
      <table class="w-full border-collapse">
        <thead>
          <tr class="bg-gray-100">
            <th class="border p-3 text-left">Reference</th>
            <th class="border p-3 text-left">Amount</th>
            <th class="border p-3 text-left">Method</th>
            <th class="border p-3 text-left">Date</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let p of payments" class="hover:bg-gray-50 transition">
            <td class="border p-3">{{ p.reference }}</td>
            <td class="border p-3">â‚¹{{ p.amount }}</td>
            <td class="border p-3">{{ p.method }}</td>
            <td class="border p-3">{{ p.createdAt | date:'short' }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <router-outlet></router-outlet>
</div>
